package TimeKeeperApplication;

import java.io.IOException;
import java.net.UnknownHostException;
import java.util.ArrayList;

// Pour la connexion: On peut faire une tentative toutes les 2 minutes pour
// savoir si on peut envoyer les donnés
// On peut faire un system qui check si le serveur est UP en envoyant un paquet,
// et si c'est le
// cas, le serveur repond avec un paquet (un caractère..Etc).
public class Emulator {
	private ArrayList<TimeKeeper> eventsToProcess;
	private DataTransferClient<TimeKeeper> outputConnection;

	public Emulator() throws UnknownHostException, IOException {
		this.eventsToProcess = new ArrayList<TimeKeeper>();
		this.outputConnection = new DataTransferClient<TimeKeeper>();
	}

	public void workerSignIn(int id_Worker) {

		TimeKeeper workerSignIn = new TimeKeeper(id_Worker);
		
		try {
			this.outputConnection.send(workerSignIn);
		} catch (IOException e) {
			eventsToProcess.add(workerSignIn);
			
			e.printStackTrace();
		}

	}
	public void workerSignIn(int id_Worker) {

		TimeKeeper workerSignIn = new TimeKeeper(id_Worker);
		
		try {
			this.outputConnection.send(workerSignIn);
		} catch (IOException e) {
			eventsToProcess.add(workerSignIn);
			
			e.printStackTrace();
		}

	}
	
	

}
